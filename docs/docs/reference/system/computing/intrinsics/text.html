<!doctype html>
<html class="no-js" lang="en" data-content_root="../../../../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../../../../genindex.html" /><link rel="search" title="Search" href="../../../../search.html" /><link rel="next" title="Logical models" href="logic.html" /><link rel="prev" title="Numeric models" href="numbers.html" />

    <!-- Generated with Sphinx 7.2.6 and Furo 2023.09.10 -->
        <title>Textual models - Crochet 0.14 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=82a976d7" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/styles/furo-extensions.css?v=36a5483c" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/css/crochet.css?v=4e295929" />
    
    


<style>
  body {
    --color-code-background: #ffffff;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../../../index.html"><div class="brand">Crochet 0.14 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../../../index.html">
  
  
  <span class="sidebar-brand-text">Crochet 0.14 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../../../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="../../index.html">The Crochet System</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of The Crochet System</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../whats-crochet.html">What’s Crochet?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../installing-crochet.html">Installing Crochet</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../structure/index.html">How is Crochet structured?</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of How is Crochet structured?</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../structure/introduction.html">The Crochet universe</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../structure/package-configuration.html">Package configuration</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../types/index.html">Data and types</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Data and types</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../types/types-and-data.html">Types and data modelling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../types/hierarchies.html">Hierarchies of types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../types/traits.html">Traits</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../commands/index.html">Commands</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Commands</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../commands/declaration.html">What are commands?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../commands/signatures.html">Signatures and their uses</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../commands/dispatch.html">Executing commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../commands/why.html">Why are commands …?</a></li>
</ul>
</li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="../index.html">Computing with Crochet</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Computing with Crochet</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../execution-models.html">Execution models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../bindings.html">Naming values</a></li>
<li class="toctree-l3 current has-children"><a class="reference internal" href="index.html">Intrinsic data types</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Intrinsic data types</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="gradual.html">Gradual representations</a></li>
<li class="toctree-l4"><a class="reference internal" href="numbers.html">Numeric models</a></li>
<li class="toctree-l4 current current-page"><a class="current reference internal" href="#">Textual models</a></li>
<li class="toctree-l4"><a class="reference internal" href="logic.html">Logical models</a></li>
<li class="toctree-l4"><a class="reference internal" href="functions.html">Program representations</a></li>
<li class="toctree-l4"><a class="reference internal" href="collections.html">Collections</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../application.html">Applying programs and commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../using.html">Using data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../equality.html">Equality</a></li>
<li class="toctree-l3"><a class="reference internal" href="../branching.html">Branching</a></li>
<li class="toctree-l3"><a class="reference internal" href="../comprehension.html">Working with multiple values</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../effects/index.html">Effects</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of Effects</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../effects/what-are-effects.html">What are effects?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../effects/handlers.html">Effect handlers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../effects/contexts.html">Contextual handlers</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../verification/index.html">Verification</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of Verification</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../verification/examples.html">Example-based testing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../verification/contracts.html">Contracts</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../ffi/index.html">Foreign interfaces</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of Foreign interfaces</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../ffi/interface.html">Writing external functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../ffi/ffi.html">The FFI type</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../security/index.html">Security and capabilities</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of Security and capabilities</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../security/why.html">Why use capabilities?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../security/groups.html">Capabilities and groups</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../security/dynamic.html">Dynamic capabilities</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../design-philosophy.html">Annex A: Design philosophy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sociology-and-linguistics.html">Annex B: Sociology and linguistics</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/index.html">Crochet’s API Reference</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../../cookbook/brief-syntax/index.html">The Brief Syntax Cheatsheet</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of The Brief Syntax Cheatsheet</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../../cookbook/brief-syntax/declaration/index.html">Declarations</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle navigation of Declarations</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../cookbook/brief-syntax/declaration/capability.html"><code class="docutils literal notranslate"><span class="pre">capability</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../cookbook/brief-syntax/declaration/command.html"><code class="docutils literal notranslate"><span class="pre">command</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../cookbook/brief-syntax/declaration/define.html"><code class="docutils literal notranslate"><span class="pre">define</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../cookbook/brief-syntax/declaration/effect.html"><code class="docutils literal notranslate"><span class="pre">effect</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../cookbook/brief-syntax/declaration/handler.html"><code class="docutils literal notranslate"><span class="pre">handler</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../cookbook/brief-syntax/declaration/implement.html"><code class="docutils literal notranslate"><span class="pre">implement</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../cookbook/brief-syntax/declaration/local.html"><code class="docutils literal notranslate"><span class="pre">local</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../cookbook/brief-syntax/declaration/open.html"><code class="docutils literal notranslate"><span class="pre">open</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../cookbook/brief-syntax/declaration/prelude.html"><code class="docutils literal notranslate"><span class="pre">prelude</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../cookbook/brief-syntax/declaration/protect.html"><code class="docutils literal notranslate"><span class="pre">protect</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../cookbook/brief-syntax/declaration/test.html"><code class="docutils literal notranslate"><span class="pre">test</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../cookbook/brief-syntax/declaration/trait.html"><code class="docutils literal notranslate"><span class="pre">trait</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../cookbook/brief-syntax/declaration/type.html"><code class="docutils literal notranslate"><span class="pre">type</span></code></a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../../cookbook/brief-syntax/expression/index.html">Expressions</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle navigation of Expressions</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../../cookbook/brief-syntax/expression/statement/index.html">Statements</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle navigation of Statements</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../cookbook/brief-syntax/expression/statement/assert.html"><code class="docutils literal notranslate"><span class="pre">assert</span></code> expression</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../cookbook/brief-syntax/expression/statement/let.html"><code class="docutils literal notranslate"><span class="pre">let</span></code> expression</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../../cookbook/brief-syntax/expression/complex/index.html">Complex expressions</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle navigation of Complex expressions</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../cookbook/brief-syntax/expression/complex/apply.html">Program application</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../cookbook/brief-syntax/expression/complex/condition.html"><code class="docutils literal notranslate"><span class="pre">condition</span></code> expression</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../cookbook/brief-syntax/expression/complex/continue-with.html"><code class="docutils literal notranslate"><span class="pre">continue</span> <span class="pre">with</span></code> expression</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../cookbook/brief-syntax/expression/complex/delayed.html">Delayed programs (Lambdas)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../cookbook/brief-syntax/expression/complex/do.html"><code class="docutils literal notranslate"><span class="pre">do</span> <span class="pre">..</span> <span class="pre">end</span></code> expression</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../cookbook/brief-syntax/expression/complex/for.html"><code class="docutils literal notranslate"><span class="pre">for</span></code> expression</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../cookbook/brief-syntax/expression/complex/force.html"><code class="docutils literal notranslate"><span class="pre">force</span></code> expression</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../cookbook/brief-syntax/expression/complex/foreign.html"><code class="docutils literal notranslate"><span class="pre">foreign</span></code> expression</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../cookbook/brief-syntax/expression/complex/handle.html"><code class="docutils literal notranslate"><span class="pre">handle</span></code> expression</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../cookbook/brief-syntax/expression/complex/hole.html">Holes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../cookbook/brief-syntax/expression/complex/invocation.html">Command invocation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../cookbook/brief-syntax/expression/complex/perform.html"><code class="docutils literal notranslate"><span class="pre">perform</span></code> expression</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../cookbook/brief-syntax/expression/complex/pipe.html">Pipe expressions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../cookbook/brief-syntax/expression/complex/projection.html">Projection</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../cookbook/brief-syntax/expression/complex/return.html"><code class="docutils literal notranslate"><span class="pre">return</span></code> expression</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../cookbook/brief-syntax/expression/complex/self-expr.html"><code class="docutils literal notranslate"><span class="pre">self</span></code> expression</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../cookbook/brief-syntax/expression/complex/static-type.html">Static types</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../cookbook/brief-syntax/expression/complex/variable.html">Variable references</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../../../cookbook/brief-syntax/expression/atomic/index.html">Atomic expressions</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle navigation of Atomic expressions</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../cookbook/brief-syntax/expression/atomic/boolean.html">Boolean literals</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../cookbook/brief-syntax/expression/atomic/float.html">Floating point literals</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../cookbook/brief-syntax/expression/atomic/global.html">Global references</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../cookbook/brief-syntax/expression/atomic/integer.html">Integer literals</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../cookbook/brief-syntax/expression/atomic/interpolate.html">Interpolation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../cookbook/brief-syntax/expression/atomic/lazy.html"><code class="docutils literal notranslate"><span class="pre">lazy</span></code> expression</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../cookbook/brief-syntax/expression/atomic/list.html">List expression</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../cookbook/brief-syntax/expression/atomic/new.html"><code class="docutils literal notranslate"><span class="pre">new</span></code> expression</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../cookbook/brief-syntax/expression/atomic/nothing.html">Nothing literal</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../cookbook/brief-syntax/expression/atomic/record.html">Record expressions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../cookbook/brief-syntax/expression/atomic/text.html">Text literals</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../../contributing/index.html">Contributing to Crochet</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle navigation of Contributing to Crochet</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../contributing/code-of-conduct.html">Code of Conduct</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../contributing/bug-report.html">Reporting issues</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../contributing/security-report.html">Reporting security issues</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../contributing/feature-request.html">Requesting features</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../contributing/pull-request.html">Contributing code</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../glossary.html">Glossary</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="textual-models">
<h1>Textual models<a class="headerlink" href="#textual-models" title="Link to this heading">#</a></h1>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Text is complex and everything that is written here most likely will
change.</p>
</div>
<p>Text is a big part of most kinds of programs, and it shows up quite
often in interactive fiction as well. Crochet approaches textual
representation in a way that tries to make it safer and more
respecting—and supporting—of different languages and cultures.</p>
<section id="text-literals">
<h2>Text literals<a class="headerlink" href="#text-literals" title="Link to this heading">#</a></h2>
<p>Text can be described in Crochet using the text literal form. This
allows one to provide any kind of Unicode piece of text, which is
sufficient to support people to capture text in languages like
English or Japanese, and to use emojis:</p>
<div class="highlight-crochet notranslate"><div class="highlight"><pre><span></span><span class="dl">&quot;</span><span class="s2">Hello! こんにちは 😊</span><span class="dl">&quot;</span>
</pre></div>
</div>
<p>Literals can also contain multiple lines:</p>
<div class="highlight-crochet notranslate"><div class="highlight"><pre><span></span><span class="dl">&quot;</span><span class="s2">There’s an unfamiliar scent.</span>
<span class="s2"> An unfamiliar feeling.</span>
<span class="s2"> You’re laying down on a cold floor---you feel</span>
<span class="s2"> the irregular stones beneath you,</span>
<span class="s2"> but you haven’t seen them yet.</span>
<span class="s2"> Your eyes remain shut.</span><span class="dl">&quot;</span>
</pre></div>
</div>
<p>These forms may still contain double quote (<code class="docutils literal notranslate"><span class="pre">&quot;</span></code>) characters, but
because they both indicate the start and end of the literal, including
them requires the character to be escaped—that is, written with
a preceding backslash: <code class="docutils literal notranslate"><span class="pre">\&quot;</span></code>:</p>
<div class="highlight-crochet notranslate"><div class="highlight"><pre><span></span><span class="dl">&quot;</span><span class="s2">They exchanged some glances. </span><span class="se">\&quot;</span><span class="s2">Are you not eating...?</span><span class="se">\&quot;</span><span class="s2"> Awra asked.</span><span class="dl">&quot;</span>
</pre></div>
</div>
<p>Alternatively, literals can be started with <code class="docutils literal notranslate"><span class="pre">&lt;&lt;</span></code> (double left angle brackets),
and end with <code class="docutils literal notranslate"><span class="pre">&gt;&gt;</span></code> (double right angle brackets). In this form, double quotes
don’t need to be escaped:</p>
<div class="highlight-crochet notranslate"><div class="highlight"><pre><span></span><span class="dl">&lt;&lt;</span><span class="s2">They exchanged some glances. &quot;Are you not eating...?&quot; Awra asked.</span><span class="dl">&gt;&gt;</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Currently, when writing multi-line text literals, Crochet will remove
any leading white-space up to the <em>column</em> of the opening quotation mark.
This is, however, a very confusing behaviour if you’re not looking at
the source code in a plain text editor with monospaced font, so it will
be removed in the next version of the language.</p>
<p>You don’t have to worry about the change in semantics because Crochet
modules are versioned (by the language heading at the top), and the
compiler can just migrate your source code automatically.</p>
</div>
<section id="unicode-escapes">
<h3>Unicode escapes<a class="headerlink" href="#unicode-escapes" title="Link to this heading">#</a></h3>
<p>Crochet allows characters to be written using their explicit unicode escape
sequence, rather than its representation. The notation uses <code class="docutils literal notranslate"><span class="pre">\u</span></code> followed
by the four hexadecimal unicode digits.</p>
<p>For example, the ASCII exclamation mark (<code class="docutils literal notranslate"><span class="pre">!</span></code>) has the unicode number
<code class="docutils literal notranslate"><span class="pre">0021</span></code>, so the escape sequence would become <code class="docutils literal notranslate"><span class="pre">\u0021</span></code>. The following
are equivalent:</p>
<div class="highlight-crochet notranslate"><div class="highlight"><pre><span></span><span class="dl">&lt;&lt;</span><span class="s2">Hello!</span><span class="dl">&gt;&gt;</span>

<span class="dl">&lt;&lt;</span><span class="s2">Hello\u0021</span><span class="dl">&gt;&gt;</span>
</pre></div>
</div>
<p>There are certain situations in Crochet where characters must be written
in their unicode escape form.</p>
</section>
</section>
<section id="text-composition">
<h2>Text composition<a class="headerlink" href="#text-composition" title="Link to this heading">#</a></h2>
<p>An interesting aspect of text is that we often want to combine different
pieces, with different grammars and semantics. This is not really a
computing thing; handwritten text in a piece of paper may comprise
different languages, formatting, colours, and so many other aspects.</p>
<p>Likewise, it’s quite common for some computer program to include text
that contains parts in another language. For example:</p>
<div class="highlight-crochet notranslate"><div class="highlight"><pre><span></span><span class="dl">&quot;</span><span class="s2">The sun was out in full force again; summer has arrived. And</span>
<span class="s2"> there&#39;s only one way to describe this feeling: 夏バテ.</span><span class="dl">&quot;</span>
</pre></div>
</div>
<p>Here we have a piece of text literal in Crochet that includes text
in both English and Japanese—the Japanese part, “natsubate”, or
“suffering from summer heat”, is used to capture and emphasise the
leading sentences. These kind of multi-lingual pieces of text are
very common, though more often would comprise pairs like English
and French, or English and Latin.</p>
<p>So Crochet literals supports some of these compositions already—though
in this case that’s by plain luck, as there’s nothing that tells
Crochet that this <em>is</em> a composition. Crochet is not aware of
the intrinsic semantics of these sentences; it does not care about
what they mean.</p>
<p>Now, computers sometimes care about the meaning of these pieces of
text, too. And at that point composition becomes more complicated.</p>
<p>Consider:</p>
<div class="highlight-crochet notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="nv">Room</span> <span class="p">=</span> <span class="dl">&quot;</span><span class="s2">The ceiling of the log cabin is in the same wood</span>
<span class="s2">            you see in the walls. Nothing fancy, but well</span>
<span class="s2">            kept still.</span><span class="dl">&quot;</span><span class="p">;</span>

<span class="k">let</span> <span class="nv">Chandelier</span> <span class="p">=</span> <span class="dl">&quot;</span><span class="s2">At the centre there’s a chandelier with</span>
<span class="s2">                  three gas lamps.</span><span class="dl">&quot;</span><span class="p">;</span>
</pre></div>
</div>
<p>Here we have two separate pieces of text, one which describes a room, and
another which describes a chandelier. We might have an interactive fiction
where these pieces of text might be combined depending on certain things
happening in the simulated game world. For example, the number of gas
lamps might change, thus changing the description of the chandelier.</p>
<p>But when we present this to the player we still want to make sure that
they will see the <em>combined</em> piece of text; as if it was a single literal
to begin with. We want them to see this:</p>
<blockquote>
<div><p>The ceiling of the log cabin is in the same wood you see in the walls.
Nothing fancy, but well kept still. At the centre there’s a chandelier
with three gas lamps.</p>
</div></blockquote>
<p>In Crochet, this is achieved by using the text composition form—called
interpolation. The composition form is similar to the text literal—but
it allows us to insert different things within the text, by using an
expression within square brackets. For example, we could combine the
example above using:</p>
<div class="highlight-crochet notranslate"><div class="highlight"><pre><span></span><span class="dl">&quot;</span><span class="si">[</span><span class="nv">Room</span><span class="si">]</span><span class="s2"> </span><span class="si">[</span><span class="nv">Chandelier</span><span class="si">]</span><span class="dl">&quot;</span>
</pre></div>
</div>
<p>This just makes it so all of the text in <code class="docutils literal notranslate"><span class="pre">Room</span></code> is followed by all
of the text in <code class="docutils literal notranslate"><span class="pre">Chandelier</span></code>. We could also have written it as such:</p>
<div class="highlight-crochet notranslate"><div class="highlight"><pre><span></span><span class="dl">&quot;</span><span class="s2">The ceiling of the log cabin is in the same wood</span>
<span class="s2"> you see in the walls. Nothing fancy, but well</span>
<span class="s2"> kept still. </span><span class="si">[</span><span class="nv">Chandelier</span><span class="si">]</span><span class="dl">&quot;</span>
</pre></div>
</div>
<p>They both have the same semantics.</p>
<section id="non-text-composition">
<h3>Non-text composition<a class="headerlink" href="#non-text-composition" title="Link to this heading">#</a></h3>
<p>Interpolation is not limited to pieces of literal text in Crochet. We
can compose any kind of Crochet value using it. This is often used to
handle things like text formatting. For example, you might want to
present some pieces of text in bold or italic letters. Or you might
want to use a different type face, or a different size, or colour.</p>
<p>In Crochet, these will generally be commands that produce a
Crochet value that represents this “intention” of formatting
the text—or adding non-textual things to it. For example:</p>
<div class="highlight-crochet notranslate"><div class="highlight"><pre><span></span><span class="dl">&quot;</span><span class="s2">You inspect the bracelet in your wrist. It </span><span class="si">[</span><span class="nf">bold:</span> <span class="dl">&quot;</span><span class="s2">looks</span><span class="dl">&quot;</span><span class="si">]</span>
<span class="s2"> like an elastic band. The one that is perhaps too comfortable</span>
<span class="s2"> to wear, as you hadn&#39;t noticed it there sooner.</span><span class="dl">&quot;</span>
</pre></div>
</div>
<p>Here we have <code class="docutils literal notranslate"><span class="pre">bold:</span> <span class="pre">&quot;looks&quot;</span></code> within square brackets—the double
quotes here are not escaped because, within the brackets, we can
write any expression; Crochet will not get confused as the
brackets provide an explicit beginning and end for it.</p>
<p>What this <code class="docutils literal notranslate"><span class="pre">bold:</span> <span class="pre">_</span></code> command would do is to create a Crochet
value that can represent its piece of text in bold font. Essentially
giving us something that looks like this:</p>
<blockquote>
<div><p>You inspect the bracelet in your wrist. It <strong>looks</strong>
like an elastic band. The one that is perhaps too comfortable
to wear, as you hadn’t noticed it there sooner.</p>
</div></blockquote>
<p>Internally, Crochet just keeps track of which parts of the
interpolation are literal pieces of text, and which parts are
some arbitrary Crochet value. But it’s up to the code handling
these interpolations how to associate a meaning to the entire
composition.</p>
</section>
</section>
<section id="text-and-trust">
<h2>Text and trust<a class="headerlink" href="#text-and-trust" title="Link to this heading">#</a></h2>
<p>Crochet considers all pieces of literal text to be “trusted”—that
is, they originate from within the code itself, and so the meaning
should be known. At least as long as the package which includes
them is also trusted.</p>
<p>On the other hand, pieces of text that come from outside of the
program—say text that user can type and provide to your program,
or the contents of a file—are always considered “untrusted”.
Which means that Crochet cannot verify its origin, and cannot
decide if that piece of text is “safe” or not.</p>
<p>Whenever pieces of untrusted text are combined with pieces of
trusted text, the entire interpolation becomes, itself, untrusted—
but the pieces within this interpolation maintain their original
trust level. This behaviour allows computations that interpret
these interpolations to know which values need to be a bit
more restricted, and subject to a bit more of scrutinity,
when looking at them. Safe composition of values relies on
this property.</p>
<p>To put this in more concrete terms. Imagine that you allow
users to type the name of a file, which your game can then
use as their avatar. These avatars are stored within a particular
folder, so in order to load them you use the following
interpolation:</p>
<div class="highlight-crochet notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="nv">Avatar</span> <span class="p">=</span> <span class="dl">&quot;</span><span class="s2">images/avatars/</span><span class="si">[</span><span class="nv">Filename</span><span class="si">]</span><span class="dl">&quot;</span><span class="p">;</span>
</pre></div>
</div>
<p>So when Alissa types in <code class="docutils literal notranslate"><span class="pre">cat.png</span></code> as her file name, she’ll
get <code class="docutils literal notranslate"><span class="pre">images/avatars/cat.png</span></code> as her avatar. Maki, however,
is trying to be a bit clever here. She sees the potential to
<em>break</em> our little game. So she types <code class="docutils literal notranslate"><span class="pre">../game-logo.png</span></code> as her file
name—and gets <code class="docutils literal notranslate"><span class="pre">images/game-logo.png</span></code> as her avatar.</p>
<p>This example doesn’t have any particularly bad implications,
but it still lets us see that when we combine pieces of text
naïvely, what we expected is not <em>always</em> what happens—and
a lot of security issues happen because of this mismatch
between what we expected to happen and what was actually
<em>possible</em> to happen, given the program we wrote.</p>
<p>Crochet aims to keep that mismatch to a minimum, which is why it
goes a bit further with the distinction between trusted
and untrusted values. This is then used by code interpreting
these interpolations to ensure that it’s very unlikely that
they will do confusing things—most of the time, you don’t
really need to <em>worry</em> about it, unless you’re the one writing
one of these interpreters.</p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="logic.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Logical models</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="numbers.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Numeric models</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2021, Niini
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Textual models</a><ul>
<li><a class="reference internal" href="#text-literals">Text literals</a><ul>
<li><a class="reference internal" href="#unicode-escapes">Unicode escapes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#text-composition">Text composition</a><ul>
<li><a class="reference internal" href="#non-text-composition">Non-text composition</a></li>
</ul>
</li>
<li><a class="reference internal" href="#text-and-trust">Text and trust</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../../../../_static/documentation_options.js?v=506589e9"></script>
    <script src="../../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../../_static/scripts/furo.js?v=32e29ea5"></script>
    </body>
</html>